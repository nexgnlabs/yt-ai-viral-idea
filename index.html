<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI YouTube Trend Pulse (Gemini 3 + GPT-5)</title>
    <script src="https://js.puter.com/v2/"></script>
    <style>
        :root { --yt-red: #ff0000; --bg: #0d0d0d; --card: #1a1a1a; --text: #f0f0f0; --accent: #ff8c00; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); padding: 15px; margin: 0; }
        .container { max-width: 1000px; margin: 20px auto; background: var(--card); border-radius: 24px; padding: 35px; border: 1px solid #333; box-shadow: 0 15px 45px rgba(0,0,0,0.7); }
        
        #loader { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 1000; flex-direction: column; align-items: center; justify-content: center; }
        .pulse { width: 60px; height: 60px; background: var(--yt-red); border-radius: 50%; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(0.9); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

        h1 { text-align: center; font-size: 26px; color: #fff; margin-bottom: 10px; }
        .engine-tag { text-align: center; color: var(--accent); font-size: 11px; font-weight: bold; margin-bottom: 30px; letter-spacing: 1px; }
        
        .controls { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-bottom: 30px; }
        select, button { padding: 18px; border-radius: 12px; font-size: 16px; border: 1px solid #444; }
        select { background: #000; color: #fff; cursor: pointer; }
        .btn { background: var(--yt-red); color: #fff; font-weight: 800; border: none; cursor: pointer; transition: 0.2s; }
        .btn:hover { background: #cc0000; transform: scale(1.02); }

        .trend-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .trend-card { background: #252525; padding: 20px; border-radius: 16px; border-left: 5px solid var(--yt-red); transition: 0.3s; }
        .trend-card:hover { background: #303030; }
        .trend-card h3 { margin: 0 0 10px 0; font-size: 18px; color: #fff; }
        .trend-meta { font-size: 12px; color: #888; margin-bottom: 15px; }
        .analysis-text { font-size: 14px; line-height: 1.6; color: #ccc; background: #121212; padding: 12px; border-radius: 8px; border: 1px solid #333; }
        .badge { display: inline-block; padding: 4px 10px; background: #444; border-radius: 4px; font-size: 10px; margin-right: 5px; }
    </style>
</head>
<body>

<div id="loader">
    <div class="pulse"></div>
    <p id="loader-status" style="margin-top: 30px; color: #fff; font-weight: bold;">Gemini 3 Pro: Scanning Global Trends...</p>
</div>

<div class="container">
    <h1>YouTube Trend Analyzer 2025</h1>
    <div class="engine-tag">REAL-TIME SEARCH: GEMINI 3 PRO | STRATEGY: GPT-5</div>

    <div class="controls">
        <select id="category">
            <option value="General Trending">ðŸ”¥ All Categories (Hot Right Now)</option>
            <option value="Gaming & Esports">ðŸŽ® Gaming & Esports</option>
            <option value="Tech & Gadgets">ðŸ“± Tech & Gadgets</option>
            <option value="Finance & Crypto">ðŸ’° Finance & Crypto</option>
            <option value="Entertainment & News">ðŸŽ¬ Entertainment & News</option>
            <option value="Health & Fitness">ðŸ’ª Health & Fitness</option>
            <option value="Education & AI">ðŸ¤– Education & AI</option>
        </select>
        <button class="btn" onclick="analyzeTrends()">FIND TOP 10 TRENDS</button>
    </div>

    <div id="results" class="trend-grid">
        </div>
</div>

<script>
    async function analyzeTrends() {
        const cat = document.getElementById('category').value;
        const loader = document.getElementById('loader');
        const status = document.getElementById('loader-status');
        const results = document.getElementById('results');

        loader.style.display = 'flex';
        results.innerHTML = '';

        try {
            // STEP 1: Gemini 3 Pro - Real-time Trend Discovery
            status.innerText = `Gemini 3 Pro: Scouring YouTube ${cat} for this week's peaks...`;
            const geminiPrompt = `Find the TOP 10 most viral and trending video topics/keywords in the category "${cat}" for the current week of December 2025. 
            For each topic, provide:
            1. The exact Hot Topic Title.
            2. Estimated Viral Score (1-100).
            3. A one-sentence summary of why it is ranking high.
            Format as a JSON-like list of items.`;

            const geminiData = await puter.ai.chat(geminiPrompt, { model: 'gemini-3-pro-preview' });
            const rawTrends = geminiData.toString();

            // STEP 2: GPT-5 - Strategy & Content Blueprint
            status.innerText = "GPT-5: Engineering viral strategy for each trend...";
            const gptPrompt = `Based on these trends: [${rawTrends}], select the best performing ones and generate a 2025 YouTube Strategy for each. 
            Include: "The Hook", "Target Audience", and "Retention Strategy". 
            Format the output clearly for display in cards.`;

            const strategyData = await puter.ai.chat(gptPrompt, { model: 'gpt-5' });
            
            // Rendering the Results (Parsed Simulation)
            // Note: In a real app, you'd parse JSON. Here we create cards based on the AI narrative.
            const lines = strategyData.toString().split('\n\n');
            
            lines.forEach(block => {
                if(block.trim().length > 20) {
                    const card = document.createElement('div');
                    card.className = 'trend-card';
                    card.innerHTML = `
                        <div class="badge">TRENDING #${Math.floor(Math.random()*10)+1}</div>
                        <h3>${block.split('\n')[0].replace('Topic:', '')}</h3>
                        <div class="trend-meta">Growth: High | Competition: Medium</div>
                        <div class="analysis-text">${block.replace(/\n/g, '<br>')}</div>
                    `;
                    results.appendChild(card);
                }
            });

        } catch (err) {
            console.error(err);
            alert("Trend scan failed. Check console for details.");
        } finally {
            loader.style.display = 'none';
        }
    }
</script>

</body>
</html>
